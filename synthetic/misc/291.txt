§u§
I run a minecraft server. What can I do to improve performance aside from installing mods? I'm using Debian on a i9-14900K purpose built for this task.
§a§


# Minecraft Server Performance Optimization (Without Mods)

Since you're running a dedicated server with a powerful i9-14900K on Debian, you have excellent hardware to work with. Here are several ways to optimize your Minecraft server performance without installing mods:

## Java/JVM Optimizations

```bash
# Use a modern JVM with good garbage collection
sudo apt update
sudo apt install openjdk-21-jdk
```

Use optimized Java flags in your server startup script:

```bash
#!/bin/bash
java -Xms6G -Xmx6G \
     -XX:+UseG1GC \
     -XX:+ParallelRefProcEnabled \
     -XX:MaxGCPauseMillis=200 \
     -XX:+UnlockExperimentalVMOptions \
     -XX:+DisableExplicitGC \
     -XX:+AlwaysPreTouch \
     -XX:G1NewSizePercent=30 \
     -XX:G1MaxNewSizePercent=40 \
     -XX:G1HeapRegionSize=8M \
     -XX:G1ReservePercent=20 \
     -XX:G1HeapWastePercent=5 \
     -XX:G1MixedGCCountTarget=4 \
     -XX:InitiatingHeapOccupancyPercent=15 \
     -XX:G1MixedGCLiveThresholdPercent=90 \
     -XX:G1RSetUpdatingPauseTimePercent=5 \
     -XX:SurvivorRatio=32 \
     -XX:+PerfDisableSharedMem \
     -XX:MaxTenuringThreshold=1 \
     -Dusing.aikars.flags=https://mcflags.emc.gs \
     -Daikars.new.flags=true \
     -jar server.jar nogui
```

## Server Configuration Tuning

In your `server.properties` file:

```
# Reduce view distance for better performance
view-distance=6

# Limit entity activation range
entity-broadcast-range-percentage=50

# Optimize mob spawning
max-chained-neighbor-updates=500
mob-spawning=true
max-entity-collision=2

# Adjust tick rate
max-tick-time=60000
```

## Operating System Optimizations

```bash
# Set CPU governor to performance mode
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor

# Optimize network settings
echo 'net.core.rmem_max = 16777216' | sudo tee -a /etc/sysctl.conf
echo 'net.core.wmem_max = 16777216' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv4.tcp_rmem = 4096 65536 16777216' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv4.tcp_wmem = 4096 65536 16777216' | sudo tee -a /etc/sysctl.conf

# Apply the changes
sudo sysctl -p

# Disable swap for better performance (if you have enough RAM)
sudo swapoff -a
```

## World and Gameplay Optimizations

1. **Pre-generate chunks** to reduce terrain generation lag:
   - Use tools like Chunky to pre-generate your world
   - This reduces load during gameplay as new areas are explored

2. **Implement entity limits**:
   - Use command blocks to limit mob counts in high-traffic areas
   - Regularly clean up dropped items

3. **Redstone optimization**:
   - Encourage players to use efficient redstone designs
   - Set up automatic systems to clear item entities in redstone farms

4. **World border**:
   - Set a reasonable world border to limit the world size

## Monitoring and Maintenance

```bash
# Install monitoring tools
sudo apt install htop iotop nethogs

# Create a script to monitor server resources
#!/bin/bash
while true; do
  clear
  echo "=== Minecraft Server Monitor ==="
  date
  echo ""
  echo "CPU Usage:"
  top -bn1 | grep "Cpu(s)" | sed "s/.*, *\([0-9.]*\)%* id.*/\1/" | awk '{print 100 - $1"%"}'
  echo ""
  echo "Memory Usage:"
  free -h
  echo ""
  echo "Disk Usage:"
  df -h
  echo ""
  echo "Network Connections:"
  netstat -an | grep :25565 | wc -l
  sleep 5
done
```

## Regular Maintenance Tasks

1. **Schedule regular restarts** to clear memory leaks
2. **Create backup scripts** to automatically backup your world
3. **Use tools like mcrcon** to manage your server remotely

## Example Backup Script

```bash
#!/bin/bash
BACKUP_DIR="/path/to/backups"
SERVER_DIR="/path/to/minecraft/server"
DATE=$(date +%Y-%m-%d_%H-%M-%S)
BACKUP_NAME="minecraft_backup_$DATE.tar.gz"

# Create backup directory if it doesn't exist
mkdir -p $BACKUP_DIR

# Create the backup
tar -czf $BACKUP_DIR/$BACKUP_NAME -C $SERVER_DIR world

# Delete backups older than 7 days
find $BACKUP_DIR -name "minecraft_backup_*.tar.gz" -mtime +7 -delete

echo "Backup completed: $BACKUP_DIR/$BACKUP_NAME"
```

With your i9-14900K, you have plenty of CPU power, so focus on memory optimization, efficient chunk loading, and reducing entity counts to get the best performance from your server.
§u§
```
#!/bin/bash

echo "Starting server..."
ulimit -c unlimited
taskset -c 0-7 /usr/lib/jvm/jdk-17.0.14+7/bin/java -Xms16384M -Xmx16384M --add-modules=jdk.incubator.vector -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 -Dusing.aikars.flags=https://mcflags.emc.gs -Daikars.new.flags=true -XX:G1NewSizePercent=40 -XX:G1MaxNewSizePercent=50 -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 -Xlog:gc*:logs/gc.log:time,uptime:filecount=5,filesize=1M -jar server.jar --nogui
```
This is my current start script. What can I improve?
§a§


# Analysis and Improvements to Your Minecraft Server Startup Script

Your current script is already well-optimized with Aikar's flags and G1GC settings. However, there are several improvements we can make to better utilize your i9-14900K's capabilities:

## CPU Affinity Optimization

Your current script limits the server to CPUs 0-7 with `taskset -c 0-7`. For an i9-14900K, which has 8 Performance-cores (P-cores) and 16 Efficient-cores (E-cores), we should specifically target the P-cores:

```bash
taskset -c 0,2,4,6,8,10,12,14
```

This will use the P-cores (which are typically the even-numbered cores on Intel hybrid CPUs).

## Enhanced JVM Parameters

```bash
#!/bin/bash

echo "Starting Minecraft server..."
# Disable core dumps (usually not needed for production)
ulimit -c 0

# Use P-cores of the i9-14900K
taskset -c 0,2,4,6,8,10,12,14 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms14G -Xmx14G \
--add-modules=jdk.incubator.vector \
-XX:+UseG1GC \
-XX:+ParallelRefProcEnabled \
-XX:MaxGCPauseMillis=200 \
-XX:+UnlockExperimentalVMOptions \
-XX:+DisableExplicitGC \
-XX:+AlwaysPreTouch \
-XX:G1HeapWastePercent=5 \
-XX:G1MixedGCCountTarget=4 \
-XX:InitiatingHeapOccupancyPercent=15 \
-XX:G1MixedGCLiveThresholdPercent=90 \
-XX:G1RSetUpdatingPauseTimePercent=5 \
-XX:SurvivorRatio=32 \
-XX:+PerfDisableSharedMem \
-XX:MaxTenuringThreshold=1 \
-XX:+UseStringDeduplication \
-XX:+UseCompressedOops \
-XX:+UseCompressedClassPointers \
-Dusing.aikars.flags=https://mcflags.emc.gs \
-Daikars.new.flags=true \
-XX:G1NewSizePercent=40 \
-XX:G1MaxNewSizePercent=50 \
-XX:G1HeapRegionSize=16M \
-XX:G1ReservePercent=15 \
-XX:+UseTransparentHugePages \
-XX:+UseLargePages \
-Xlog:gc*:logs/gc.log:time,uptime:filecount=5,filesize=1M \
-jar server.jar --nogui
```

## Key Changes and Their Benefits

1. **Reduced Memory Allocation**: Changed from 16GB to 14GB to leave system memory free for OS processes and avoid potential swapping.

2. **Added String Deduplication**: `-XX:+UseStringDeduplication` helps reduce memory usage by eliminating duplicate strings.

3. **Compressed OOPS and Class Pointers**: These flags help reduce memory footprint for 64-bit JVMs.

4. **Transparent Huge Pages**: `-XX:+UseTransparentHugePages` can improve performance by reducing TLB misses.

5. **Large Pages Support**: `-XX:+UseLargePages` can further improve memory access performance.

## Additional Recommendations

### 1. Enable Transparent Huge Pages System-wide

```bash
echo always | sudo tee /sys/kernel/mm/transparent_hugepage/enabled
echo madvise | sudo tee /sys/kernel/mm/transparent_hugepage/defrag
```

### 2. Create a Restart Script

To automatically restart the server if it crashes:

```bash
#!/bin/bash
while true
do
    echo "Starting server at $(date)"
    # Your start command here
    taskset -c 0,2,4,6,8,10,12,14 /usr/lib/jvm/jdk-17.0.14+7/bin/java [rest of your parameters]
    echo "Server stopped at $(date)"
    echo "Restarting in 10 seconds..."
    sleep 10
done
```

### 3. System Optimization

Add these system optimizations to `/etc/sysctl.conf`:

```bash
# Network optimization
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 65536 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216

# Disable overcommit memory
vm.overcommit_memory = 1

# Optimize for low latency
vm.swappiness = 10
```

Then apply with `sudo sysctl -p`.

### 4. CPU Governor

Set your CPU to performance mode:

```bash
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
```

These changes should help you get the most out of your i9-14900K while maintaining stable server performance. Remember to monitor your server after making these changes to ensure they're having the desired effect.
§u§
```
root@servernode4:/home/server/create_plusplus# lscpu -e=CPU,CORE,SOCKET,ONLINE
CPU CORE SOCKET ONLINE
  0    0      0    yes
  1    0      0    yes
  2    1      0    yes
  3    1      0    yes
  4    2      0    yes
  5    2      0    yes
  6    3      0    yes
  7    3      0    yes
  8    4      0    yes
  9    4      0    yes
 10    5      0    yes
 11    5      0    yes
 12    6      0    yes
 13    6      0    yes
 14    7      0    yes
 15    7      0    yes
 16    8      0    yes
 17    9      0    yes
 18   10      0    yes
 19   11      0    yes
 20   12      0    yes
 21   13      0    yes
 22   14      0    yes
 23   15      0    yes
 24   16      0    yes
 25   17      0    yes
 26   18      0    yes
 27   19      0    yes
 28   20      0    yes
 29   21      0    yes
 30   22      0    yes
 31   23      0    yes
```
But I get this from `lscpu`. Also the computer has 64GB DD5-7200
§a§


# Revised Minecraft Server Optimization Based on Your CPU Information

Thank you for providing the `lscpu` output. This gives us a clearer picture of your i9-14900K's architecture. Here's what I see:

- 8 Performance-cores (P-cores) with hyperthreading (CPU 0-15)
- 16 Efficient-cores (E-cores) without hyperthreading (CPU 16-31)

For optimal Minecraft server performance, we should focus on using the P-cores. With 64GB of DDR5-7200 RAM, we can also adjust our memory allocation.

## Updated Startup Script

```bash
#!/bin/bash

echo "Starting Minecraft server..."
# Disable core dumps (usually not needed for production)
ulimit -c 0

# Use P-cores of the i9-14900K (cores 0-7 with hyperthreading)
taskset -c 0-15 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
--add-modules=jdk.incubator.vector \
-XX:+UseG1GC \
-XX:+ParallelRefProcEnabled \
-XX:MaxGCPauseMillis=200 \
-XX:+UnlockExperimentalVMOptions \
-XX:+DisableExplicitGC \
-XX:+AlwaysPreTouch \
-XX:G1HeapWastePercent=5 \
-XX:G1MixedGCCountTarget=4 \
-XX:InitiatingHeapOccupancyPercent=15 \
-XX:G1MixedGCLiveThresholdPercent=90 \
-XX:G1RSetUpdatingPauseTimePercent=5 \
-XX:SurvivorRatio=32 \
-XX:+PerfDisableSharedMem \
-XX:MaxTenuringThreshold=1 \
-XX:+UseStringDeduplication \
-XX:+UseCompressedOops \
-XX:+UseCompressedClassPointers \
-Dusing.aikars.flags=https://mcflags.emc.gs \
-Daikars.new.flags=true \
-XX:G1NewSizePercent=40 \
-XX:G1MaxNewSizePercent=50 \
-XX:G1HeapRegionSize=16M \
-XX:G1ReservePercent=15 \
-XX:+UseTransparentHugePages \
-XX:+UseLargePages \
-Xlog:gc*:logs/gc.log:time,uptime:filecount=5,filesize=1M \
-jar server.jar --nogui
```

## Key Changes

1. **CPU Affinity**: Changed to `taskset -c 0-15` to use all P-cores and their hyperthreaded counterparts.

2. **Memory Allocation**: Increased to 24GB to take advantage of your 64GB of RAM. This leaves plenty of memory for the OS and other processes.

3. **All Previous Optimizations**: Retained all the JVM optimizations from the previous recommendation.

## Additional System Optimizations

Given your powerful hardware, you can make these additional system-level changes:

### 1. CPU Governor and Power Management

```bash
# Set P-cores to performance mode
for cpu in 0 2 4 6 8 10 12 14; do
    echo performance | sudo tee /sys/devices/system/cpu/cpu$cpu/cpufreq/scaling_governor
done

# You might want to keep E-cores on powersave or ondemand
for cpu in 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31; do
    echo ondemand | sudo tee /sys/devices/system/cpu/cpu$cpu/cpufreq/scaling_governor
done
```

### 2. Memory Optimization

```bash
# Add to /etc/sysctl.conf
vm.swappiness = 10
vm.vfs_cache_pressure = 50
vm.overcommit_memory = 1
```

### 3. Network Optimization

```bash
# Add to /etc/sysctl.conf
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 65536 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216
net.ipv4.tcp_congestion_control = bbr
```

Apply with `sudo sysctl -p`.

## Monitoring Script

Create a monitoring script to track your server's performance:

```bash
#!/bin/bash
while true; do
    clear
    echo "=== Minecraft Server Monitor ==="
    date
    echo ""
    echo "CPU Usage (P-cores):"
    top -bn1 | grep "Cpu(s)" | sed "s/.*, *\([0-9.]*\)%* id.*/\1/" | awk '{print 100 - $1"%"}'
    echo ""
    echo "Memory Usage:"
    free -h
    echo ""
    echo "Java Process Details:"
    ps -p $(pgrep java) -o pid,ppid,cmd,%mem,%cpu --no-headers
    echo ""
    echo "Network Connections:"
    netstat -an | grep :25565 | wc -l
    sleep 5
done
```

## Advanced Option: Separate Processes

Consider using the E-cores (CPU 16-31) for background tasks like backups:

```bash
#!/bin/bash
# Backup script using E-cores
taskset -c 16-31 nice -n 10 tar -czf /path/to/backup/$(date +%Y%m%d_%H%M%S).tar.gz /path/to/minecraft/world
```

This approach ensures your main server process gets all the P-cores' attention while background tasks run on the E-cores.

With these optimizations, your i9-14900K should provide excellent performance for your Minecraft server, especially with the 64GB of DDR5-7200 RAM at its disposal.
§u§
Is there a way to increase the priority of a task?
§a§


# Increasing Task Priority for Your Minecraft Server

Yes, there are several ways to increase the priority of tasks in Linux to ensure your Minecraft server gets the resources it needs. Here are the most effective methods:

## 1. Using `nice` and `renice` for CPU Priority

The `nice` command adjusts the scheduling priority of a process. The nice value ranges from -20 (highest priority) to 19 (lowest priority), with 0 being the default.

### Starting with a Specific Nice Value

You can modify your startup script to start the server with a higher priority:

```bash
#!/bin/bash

echo "Starting Minecraft server..."
ulimit -c 0

# Use P-cores with high priority
taskset -c 0-15 nice -n -10 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
--add-modules=jdk.incubator.vector \
-XX:+UseG1GC \
-XX:+ParallelRefProcEnabled \
-XX:MaxGCPauseMillis=200 \
-XX:+UnlockExperimentalVMOptions \
-XX:+DisableExplicitGC \
-XX:+AlwaysPreTouch \
-XX:G1HeapWastePercent=5 \
-XX:G1MixedGCCountTarget=4 \
-XX:InitiatingHeapOccupancyPercent=15 \
-XX:G1MixedGCLiveThresholdPercent=90 \
-XX:G1RSetUpdatingPauseTimePercent=5 \
-XX:SurvivorRatio=32 \
-XX:+PerfDisableSharedMem \
-XX:MaxTenuringThreshold=1 \
-XX:+UseStringDeduplication \
-XX:+UseCompressedOops \
-XX:+UseCompressedClassPointers \
-Dusing.aikars.flags=https://mcflags.emc.gs \
-Daikars.new.flags=true \
-XX:G1NewSizePercent=40 \
-XX:G1MaxNewSizePercent=50 \
-XX:G1HeapRegionSize=16M \
-XX:G1ReservePercent=15 \
-XX:+UseTransparentHugePages \
-XX:+UseLargePages \
-Xlog:gc*:logs/gc.log:time,uptime:filecount=5,filesize=1M \
-jar server.jar --nogui
```

### Changing Priority of a Running Process

If your server is already running, you can use `renice`:

```bash
# First find the PID of your Java process
ps aux | grep java

# Then change the nice value (replace PID with your actual process ID)
sudo renice -10 -p PID
```

## 2. Using `ionice` for I/O Priority

Minecraft servers can be I/O intensive, especially during world saves. The `ionice` command lets you set I/O priorities:

```bash
#!/bin/bash

echo "Starting Minecraft server..."
ulimit -c 0

# Use P-cores with high CPU and I/O priority
taskset -c 0-15 nice -n -10 ionice -c 1 -n 7 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
[rest of your parameters...]
```

The `ionice -c 1 -n 7` command sets the I/O priority to realtime (class 1) with the lowest priority within that class (7), which is actually the highest possible I/O priority.

## 3. Using Real-time Scheduling with `chrt`

For maximum priority, you can use real-time scheduling policies:

```bash
#!/bin/bash

echo "Starting Minecraft server..."
ulimit -c 0

# Use P-cores with real-time scheduling
taskset -c 0-15 chrt -f 50 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
[rest of your parameters...]
```

The `chrt -f 50` command sets the process to use the FIFO real-time scheduling policy with a priority of 50 (1-99, where 99 is highest).

⚠️ **Warning**: Be careful with real-time priorities. Setting them too high can make your system unresponsive if the process consumes too much CPU.

## 4. System-wide Configuration

To ensure your server always gets priority, you can create a system service with priority settings:

Create a file at `/etc/systemd/system/minecraft.service`:

```ini
[Unit]
Description=Minecraft Server
After=network.target

[Service]
User=server
WorkingDirectory=/home/server/create_plusplus
ExecStart=/usr/lib/jvm/jdk-17.0.14+7/bin/java -Xms24G -Xmx24G [rest of your parameters...] -jar server.jar --nogui
CPUAffinity=0-15
Nice=-10
IOSchedulingClass=1
IOSchedulingPriority=7
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
```

Then enable and start the service:

```bash
sudo systemctl daemon-reload
sudo systemctl enable minecraft
sudo systemctl start minecraft
```

## 5. Background Task Prioritization

For background tasks like backups, you can lower their priority:

```bash
#!/bin/bash
# Backup script with low priority to avoid impacting server performance
taskset -c 16-31 nice -n 19 ionice -c 3 tar -czf /path/to/backup/$(date +%Y%m%d_%H%M%S).tar.gz /path/to/minecraft/world
```

This uses the E-cores (16-31) with the lowest CPU priority (19) and idle I/O priority (3).

## Monitoring Priority

You can check the current priority of processes with:

```bash
# Check nice values
ps -eo pid,comm,nice

# Check I/O priorities
sudo ionice -p $(pgrep java)

# Check real-time priorities
ps -eo pid,comm,cls,rtprio
```

By implementing these priority settings, your Minecraft server will get preferential access to CPU and I/O resources, which should help maintain smooth performance even when the system is under load.
§u§
```quote
⚠️ Warning: Be careful with real-time priorities. Setting them too high can make your system unresponsive if the process consumes too much CPU.
```
Does this also apply to minecraft java, which just uses one single CPU?
§a§


# Real-time Priorities and Minecraft Java Server

Your question about real-time priorities is important, but I need to clarify a misconception first: **Minecraft Java does not use just a single CPU**.

## Minecraft's CPU Usage Pattern

While it's true that Minecraft's main game loop is predominantly single-threaded, several components utilize multiple threads:

1. **Main Game Loop**: Primarily single-threaded (handles most game logic)
2. **Garbage Collection**: Uses multiple threads (especially with G1GC)
3. **Chunk Generation**: Multi-threaded
4. **Network Operations**: Separate threads for handling player connections
5. **World Saving**: Can use separate threads

With the JVM flags we've been discussing, we're specifically optimizing for multi-threaded operations, particularly the garbage collector.

## The Warning Still Applies

Yes, the warning about real-time priorities absolutely applies to Minecraft Java servers for several reasons:

1. **CPU Intensive Operations**: Even the single-threaded main game loop can be CPU-intensive with many players or complex redstone.

2. **Garbage Collection**: The GC threads can consume significant CPU resources, especially with large heap sizes.

3. **System Stability**: Setting too high a real-time priority can starve critical system processes, making the server unresponsive to SSH or other management tools.

## Safe Real-time Priority Settings

For a Minecraft server, I recommend using a moderate real-time priority:

```bash
#!/bin/bash

echo "Starting Minecraft server..."
ulimit -c 0

# Use P-cores with moderate real-time priority
taskset -c 0-15 chrt -f 50 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
[rest of your parameters...]
```

The `chrt -f 50` command sets a FIFO real-time policy with priority 50 (out of 1-99, where 99 is highest). This is a safe middle ground that gives the server priority without risking system stability.

## Alternative: High Priority Without Real-time Scheduling

If you're concerned about system stability, you can use a high nice value instead:

```bash
#!/bin/bash

echo "Starting Minecraft server..."
ulimit -c 0

# Use P-cores with high priority but not real-time
taskset -c 0-15 nice -n -15 /usr/lib/jvm/jdk-17.0.14+7/bin/java \
-Xms24G -Xmx24G \
[rest of your parameters...]
```

This gives the server high priority within the normal scheduling system while maintaining system responsiveness.

## Monitoring CPU Usage

To understand how your server is using CPU resources, you can monitor it:

```bash
# Monitor Java process threads
top -H -p $(pgrep java)

# Check if any thread is consuming excessive CPU
ps -eLo pid,tid,cls,rtprio,pri,psr,pcpu,comm | grep java
```

This will show you how individual threads are using CPU and which cores they're running on.

## Recommendation

For your i9-14900K with 64GB of RAM, I'd recommend the moderate real-time priority approach (`chrt -f 50`) combined with CPU affinity to P-cores. This gives your server priority access to the fastest cores while maintaining system stability.

If you notice any system responsiveness issues, you can always reduce the priority value or switch to using just `nice` instead of `chrt`.
