§u§
How would I remove unnecessary information (such as styling) from an HTML document in python?
§a§
There are several good ways to clean HTML and extract just the content in Python. Here are some of the most common approaches:

1. Using BeautifulSoup with html5lib or lxml:
```python
from bs4 import BeautifulSoup

def clean_html(html_content):
    # Parse the HTML
    soup = BeautifulSoup(html_content, 'html5lib')

    # Remove script and style elements
    for script in soup(["script", "style", "noscript", "meta", "link"]):
        script.decompose()

    # Get text
    text = soup.get_text()

    # Clean up whitespace
    lines = (line.strip() for line in text.splitlines())
    chunks = (phrase.strip() for line in lines for phrase in line.split("  "))
    text = '\n'.join(chunk for chunk in chunks if chunk)

    return text
```

2. Using lxml.html.clean:
```python
from lxml.html.clean import Cleaner
from lxml import html

def clean_html(html_content):
    cleaner = Cleaner()
    cleaner.javascript = True  # Remove JavaScript
    cleaner.style = True      # Remove CSS
    cleaner.scripts = True
    cleaner.comments = True
    cleaner.links = True
    cleaner.meta = True
    cleaner.page_structure = False
    cleaner.processing_instructions = True
    cleaner.embedded = True
    cleaner.frames = True
    cleaner.forms = True
    cleaner.annoying_tags = True
    cleaner.remove_unknown_tags = True
    cleaner.safe_attrs_only = True

    cleaned = cleaner.clean_html(html_content)
    # Parse with lxml.html to get text
    doc = html.fromstring(cleaned)
    return doc.text_content()
```

3. Using html2text (good for converting to markdown):
```python
import html2text

def html_to_text(html_content):
    h = html2text.HTML2Text()
    h.ignore_links = False  # Set to True if you want to ignore links
    h.ignore_images = True  # Set to False if you want to keep image references
    return h.handle(html_content)
```

4. Using inscriptis (good for preserving some structure):
```python
from inscriptis import get_text

def html_to_text(html_content):
    return get_text(html_content)
```

Example usage:
```python
# Example HTML
html_content = """
<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
    <style>body {color: blue;}</style>
</head>
<body>
    <h1>Hello, World!</h1>
    <script>alert('test');</script>
    <p>This is a <b>test</b> paragraph.</p>
</body>
</html>
"""

# Using BeautifulSoup
cleaned_text = clean_html(html_content)
print(cleaned_text)
```

Choose the method that best fits your needs:
- BeautifulSoup: Most flexible, good for complex HTML
- lxml: Fast and efficient, good for large documents
- html2text: Good if you want markdown output
- inscriptis: Good for preserving some text structure

Remember to install the required packages:
```bash
pip install beautifulsoup4 lxml html2text inscriptis html5lib
```

The output will be clean text without HTML tags, scripts, or styles.
